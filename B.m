function residual=B(x,X1)

q=[x(1);x(2);x(3);x(4);x(5);x(6)];

JJ=[X1(1:6);X1(7:12);X1(13:18)];
Vs=X1(19:21)';
D=[];
% d=[];
D=[D;Vs*1000];
D=[D;x(1)*120];
D=[D;x(2)*120];
D=[D;x(3)*1000];
D=[D;x(4)*100];
D=[D;x(6)*100];
% d=[d;JJ*q*1000];
% d=[d;0];
% d=[d;0];
% d=[d;0];
% d=[d;0];
% d=[d;0];

d = [JJ*q*1000; 0; 0; 0; 0; 0];


residual=D-d;
